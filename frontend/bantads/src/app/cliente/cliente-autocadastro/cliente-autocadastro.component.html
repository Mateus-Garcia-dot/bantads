<h1>Novo cliente</h1>

<div class="container">
  <form #formCliente="ngForm">
    <div class="form-group">
      <label for="salario">Salário Mensal:</label>
      <input
        [(ngModel)]="cliente.salario"
        #salario="ngModel"
        type="text"
        class="form-control"
        id="salario"
        name="salario"
        required
        numerico
      />
      <div
        *ngIf="
          salario.errors && (salario.dirty || salario.touched)
        "
        class="alert alert-danger"
      >
        <div [hidden]="!salario.errors?.['required']">
          Digite o seu salario
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="nome">Nome:</label>
      <input
        [(ngModel)]="cliente.nome"
        #nome="ngModel"
        type="text"
        class="form-control"
        id="nome"
        name="nome"
        required
      />
      <div
        *ngIf="nome.errors && (nome.dirty || nome.touched)"
        class="alert alert-danger"
      >
        <div [hidden]="!nome.errors?.['required']">Digite o seu nome</div>
      </div>
    </div>
    <div class="row">
      <div class="form-group col">
        <label for="cpf">CPF:</label>
        <input
          [(ngModel)]="cliente.cpf"
          #cpf="ngModel"
          type="text"
          class="form-control"
          id="cpf"
          name="cpf"
          required
          cpfValidator
          mask="000.000.000-00"
        />
        <div
          *ngIf="cpf.errors && (cpf.dirty || cpf.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!cpf.errors?.['required']">Digite o seu CPF</div>
          <div [hidden]="!cpf.errors?.['cpfInvalido']">CPF inválido</div>
        </div>
      </div>

      <div class="form-group col">
        <label for="email">E-mail:</label>
        <input
          [(ngModel)]="cliente.email"
          #email="ngModel"
          type="email"
          class="form-control"
          id="email"
          name="email"
          required
        />
        <div
          *ngIf="email.errors && (email.dirty || email.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!email.errors?.['required']">Digite o seu e-mail</div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="form-group col">
        <label for="tipo">tipo:</label>
        <input
          [(ngModel)]="cliente.endereco!.tipo"
          #tipo="ngModel"
          type="text"
          class="form-control"
          id="tipo"
          name="tipo"
          required
        />
        <div
          *ngIf="tipo.errors && (tipo.dirty || tipo.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!tipo.errors?.['required']">Digite o tipo do endereço</div>
        </div>
      </div>

      <div class="form-group col">
        <label for="logradouro">logradouro:</label>
        <input
          [(ngModel)]="cliente.endereco!.logradouro"
          #logradouro="ngModel"
          type="text"
          class="form-control"
          id="logradouro"
          name="logradouro"
          required
        />
        <div
          *ngIf="logradouro.errors && (logradouro.dirty || logradouro.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!logradouro.errors?.['required']">Digite o logradouro</div>
        </div>
      </div>

      <div class="form-group col">
        <label for="numero">numero:</label>
        <input
          [(ngModel)]="cliente.endereco!.numero"
          #numero="ngModel"
          type="number"
          class="form-control"
          id="numero"
          name="numero"
          numerico
          required
        />
        <div
          *ngIf="numero.errors && (numero.dirty || numero.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!numero.errors?.['required']">Digite o seu numero</div>
        </div>
      </div>

      <div class="form-group col">
        <label for="complemento">complemento:</label>
        <input
          [(ngModel)]="cliente.endereco!.complemento"
          #complemento="ngModel"
          type="text"
          class="form-control"
          id="complemento"
          name="complemento"
        />
        <div
          *ngIf="complemento.errors && (complemento.dirty || complemento.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!complemento.errors?.['required']">Digite o complemento</div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="form-group col">
        <label for="cidade">cidade:</label>
        <input
          [(ngModel)]="cliente.endereco!.cidade"
          #cidade="ngModel"
          type="text"
          class="form-control"
          id="cidade"
          name="cidade"
          required
        />
        <div
          *ngIf="cidade.errors && (cidade.dirty || cidade.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!cidade.errors?.['required']">Digite a sua cidade</div>
        </div>
      </div>

      <div class="form-group col">
        <label for="estado">estado:</label>
        <input
          [(ngModel)]="cliente.endereco!.estado"
          #estado="ngModel"
          type="text"
          class="form-control"
          id="estado"
          name="estado"
          required
        />
        <div
          *ngIf="estado.errors && (estado.dirty || estado.touched)"
          class="alert alert-danger"
        >
          <div [hidden]="!estado.errors?.['required']">Digite o seu estado</div>
        </div>
      </div>
    </div>


    <div class="form-group">
      <button
        (click)="autocadastrar()"
        [disabled]="!formCliente.form.valid"
        type="button"
        class="btn btn-primary"
      >
        <i class="fa fa-save" aria-hidden="true"></i> Salvar
      </button>
    </div>
  </form>

  <a class="btn btn-secondary" routerLink="/login">
    <i class="fa fa-arrow-left" aria-hidden="true"></i> Já possui uma conta?
    faça login
  </a>
</div>
